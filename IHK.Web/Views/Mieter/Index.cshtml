@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model  IHK.ViewModels.MieterViewModel
@{
    Layout = "_LayoutMieter";
    ViewData["Title"] = "Mieter Page";
}

<div id="mieter_content" class="container-fluid">
    @await Component.InvokeAsync(nameof(MieterPanelComponent))
    @await Component.InvokeAsync(nameof(AdressePanelComponent), Model.Mieter.Wohnung.Gebaeude.Adresse)
    @await Component.InvokeAsync(nameof(WohnungPanelComponent),Model.Mieter.Wohnung)
    @await Component.InvokeAsync(nameof(GebaeudePanelComponent),Model.Mieter.Wohnung.Gebaeude)

    <div class="row row-buffTop">
        <ul id="errors"></ul>
    </div>

    <div class="row">
        <th_crud class="col-md-12"
                 th-show-del="false"
                 th-show-edit="false"
                 th-show-insert="false">
        </th_crud>
    </div>
</div>

<script>
    $(function () {
        $("#themeLink").attr('href', '@Model.CurrentUser.LayoutThemeViewModel.Link');
    });

    var viewmodel = new ViewModels.MieterViewData(@Html.Raw(Json.Serialize(Model)));
    ko.applyBindings(viewmodel, document.getElementById('mieter_content'));
</script>